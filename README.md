# ToyXYZ Manager (ComfyUI Asset Manager)

**ToyXYZ Manager** is a powerful local asset management tool for ComfyUI. It systematically manages models, workflows, and prompts scattered across complex folder structures and automatically syncs metadata with external resources like Civitai and Hugging Face.

## ‚ú® Key Features

### 1. üì¶ Model Manager

- **Extensive Model Support**: Supports all model types used in ComfyUI, including Checkpoints, LoRAs, VAEs, Embeddings, ControlNets, and Upscale Models.
- **Smart Preview**: Plays video (.mp4, .webm) and GIF thumbnails in addition to standard image formats (.png, .jpg, .webp).
- **Auto Match Metadata**:
  - Calculates file hashes to find exact model information from Civitai.
  - Automatically fetches and saves Trigger Words, version descriptions, and creator info.
- **ComfyUI Integration (Copy Node)**:
  - Select a model and click `üìã Copy Node` to copy it to your clipboard as a node ready to be pasted into ComfyUI.
- **Download Manager**:
  - Download models directly using Civitai or Hugging Face URLs.
  - Handles file name collisions with options to rename or overwrite.

### 2. üîÑ Workflow Manager

- **JSON Visualization**: Preview the structure and content of workflow files (.json).
- **Drag & Drop**: Drag workflow files from the manager directly into the ComfyUI window to load them instantly.

### 3. üìù Prompt Manager

- **Prompt Library**: Save and manage frequently used Positive and Negative prompts.
- **Tags & Search**: Organize prompts with tags for quick retrieval.
- **One-Click Copy**: Click or right-click items in the list to copy prompt sets to the clipboard.

### 4. üîç Powerful Search & Filter

- **Real-time Filtering**: Instantly filters files within the current folder.
- **Deep Search**: Recursively searches for files across all subdirectories.
- **Extension Filter**: Cleanly displays only relevant file types based on configuration.

## üõ†Ô∏è Installation & Usage

### Requirements

- **OS**: Windows 10/11 (Recommended)
- **Python**: 3.10 or higher
- **Dependencies**: `PySide6`, `requests`, `Pillow`, `markdown`, `markdownify`

### Installation Steps

1. Clone or download the repository.

   ```bash
   git clone https://github.com/toyxyz/toyxyz_manager.git
   cd toyxyz_manager
   ```

2. Create and activate a virtual environment (Recommended).

   ```bash
   python -m venv venv
   .\venv\Scripts\activate
   ```

3. Install dependencies.
   ```bash
   pip install -r requirements.txt
   ```

### Running the App

- Run the included `run.bat` file or execute the following command in your terminal:
  ```bash
  python main.py
  ```

## ‚öôÔ∏è Configuration Guide

After launching the app, click the **Settings** icon in the top-right corner to register your folders.

1. **Category**: Enter an alias for the folder (e.g., `My Checkpoints`).
2. **Path**: Specify the actual folder path where your models are stored.
3. **Mode**: Select the purpose of the folder.
   - `model`: For general model files (Checkpoints, LoRAs, etc.)
   - `workflow`: For ComfyUI workflow JSON files.
   - `prompt`: For prompt data.
4. **Model Type**: (For `model` mode) Select the specific model type. This is crucial for the `Copy Node` feature to work correctly.
   - Examples: `checkpoints`, `loras`, `embeddings`, `vae`, etc.
5. **Comfy Root**: (Optional) The root directory of your ComfyUI installation. Required for relative path calculations.

## üí° Tips

- **Change Thumbnail**: Drag and drop an image or video onto the preview area to automatically register it as the model's thumbnail (e.g., `filename.preview.png`).
- **Notepad**: Use the `Note` tab in the right panel to write notes in Markdown for each file. Automatically populated when fetching metadata.
- **Example Images**: Manage example images generated by the model in the `Example` tab.
- **Quick Refresh**: Click the `üîÑ` button to refresh the list if folder contents have changed.

## üìÑ License

This project is licensed under the MIT License. Feel free to modify and distribute.
